"use strict";var submenuInner,submenuElements,menuTimer,currentUrl,canRunCounter,menu=document.querySelector(".navigation__menu"),hamburgerBtn=document.querySelector(".hamburger"),submenu=document.querySelector(".navigation__submenu"),menuItemArrow=document.querySelector(".navigation__nav-arrow-box"),submenuChevron=document.querySelector(".navigation__nav-chevron"),menuBackBox=document.querySelector(".navigation__submenuback"),menuBackArrow=document.querySelector(".navigation__submenuback-arrow"),overlay=document.querySelector(".overlay"),addOverlay=function(e){overlay.classList.add("overlay--active")},removeOverlay=function(e){overlay.classList.remove("overlay--active")},addRotateChevron=function(e){submenuChevron.classList.add("navigation__nav-chevron--active")},removeRotateChevron=function(e){submenuChevron.classList.remove("navigation__nav-chevron--active")},handleNav=function(e){menu.classList.toggle("navigation__menu--active"),hamburgerBtn.classList.toggle("hamburger--active")},handleSubmenu=function(e){submenu.classList.add("navigation__submenu--active"),menuBackBox.classList.add("navigation__submenuback--active")},handleSubemnuBack=function(e){submenu.classList.remove("navigation__submenu--active"),menuBackBox.classList.remove("navigation__submenuback--active")},faqContainer=(hamburgerBtn.addEventListener("click",function(){handleNav(),handleSubemnuBack()}),menuItemArrow.addEventListener("click",function(){handleSubmenu()}),menuBackArrow.addEventListener("click",function(){handleSubemnuBack()}),992<window.innerWidth&&(submenuInner=document.querySelector(".navigation__submenu-inner"),submenuElements=document.querySelectorAll(".navigation__submenu-item"),menuTimer=!1,menuItemArrow.addEventListener("mouseover",function(){menuTimer&&clearTimeout(menuTimer),submenu.classList.add("navigation__submenu--hover"),addOverlay(),addRotateChevron()}),menuItemArrow.addEventListener("mouseout",function(){menuTimer=setTimeout(function(){submenu.classList.remove("navigation__submenu--hover"),removeOverlay(),removeRotateChevron()},400)}),submenuInner.addEventListener("mouseout",function(e){menuTimer&&clearTimeout(menuTimer),submenu.classList.add("navigation__submenu--hover"),addOverlay(),addRotateChevron()}),submenuInner.addEventListener("mouseout",function(e){menuTimer=setTimeout(function(){submenu.classList.remove("navigation__submenu--hover"),removeOverlay(),removeRotateChevron()},400)}),submenuElements.forEach(function(e){e.addEventListener("mouseover",function(){menuTimer&&clearTimeout(menuTimer),submenu.classList.add("navigation__submenu--hover"),addOverlay(),addRotateChevron()})})),document.querySelector(".faq__container")),scrollArrow=(faqContainer&&faqContainer.addEventListener("click",function(e){var e=e.target.closest(".faq__box"),n=e.querySelector(".faq__box-question"),t=e.querySelector(".faq__box-answer");e.classList.toggle("faq__box--active"),n.classList.toggle("faq__box-question--active"),t.classList.toggle("faq__box-answer--active")}),document.querySelector(".js-scroll")),scrollUp=function(e){window.scrollTo({top:0,behavior:"smooth"})},checkUrl=(scrollArrow.addEventListener("click",scrollUp),function(e){var n=new URL(window.location),t=n.href.lastIndexOf("/");return n.href.substring(0,t)}),seoLinks=document.querySelectorAll(".seo-link"),handleCounter=(seoLinks&&(currentUrl=checkUrl(),seoLinks.forEach(function(e){var n=e.getAttribute("data-url");n&&(e.addEventListener("click",function(e){window.location.href=currentUrl+n}),e.addEventListener("mousedown",function(e){2===e.which&&window.open(currentUrl+n,"_blank")}))})),function(e){var n=document.querySelectorAll(".js-counter");n&&n.forEach(function(n){var t=n.getAttribute("data-max"),o=0,a=(n.textContent="0",setInterval(function(){var e;o<=t?n.textContent=o++:(clearInterval(a),(e=document.createElement("span")).classList.add("counter-plus"),n.appendChild(e),n.classList.add("counter-plus"),e.textContent="+")},5))})}),counterSection=document.querySelector(".counter").offsetTop;counterSection&&(canRunCounter=!0,window.addEventListener("scroll",function(e){var n=window.scrollY||window.pageYOffset;counterSection<=n+500&&canRunCounter&&(handleCounter(),canRunCounter=!1)}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYWRkUm90YXRlQ2hldnJvbiIsInN1Ym1lbnVFbGVtZW50cyIsInN1Ym1lbnUiLCJjdXJyZW50VXJsIiwiY2FuUnVuQ291bnRlciIsIm1lbnUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJoYW1idXJnZXJCdG4iLCJtZW51SXRlbUFycm93Iiwic3VibWVudUNoZXZyb24iLCJtZW51QmFja0JveCIsIm92ZXJsYXkiLCJhZGRPdmVybGF5IiwiYWRkIiwicGFyYW1zIiwicmVtb3ZlT3ZlcmxheSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInJlbW92ZVJvdGF0ZUNoZXZyb24iLCJoYW5kbGVOYXYiLCJoYW5kbGVTdWJtZW51IiwidG9nZ2xlIiwiaGFuZGxlU3ViZW1udUJhY2siLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwibWVudUJhY2tBcnJvdyIsInN1Ym1lbnVJbm5lciIsIm1lbnVUaW1lciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZSIsImZhcUNvbnRhaW5lciIsImVsIiwiY2xvc2VzdCIsImJveFF1ZXN0aW9uIiwiYm94QW5zd2VyIiwiYm94Iiwic2VvTGlua3MiLCJ0b3AiLCJ0YXJnZXQiLCJzY3JvbGxBcnJvdyIsInNjcm9sbFVwIiwidXJsIiwiVVJMIiwibGFzdFNsYXNoSW5kZXgiLCJsYXN0SW5kZXhPZiIsInN1YnN0cmluZyIsImZvckVhY2giLCJsaW5rVXJsIiwibGluayIsImdldEF0dHJpYnV0ZSIsIndoaWNoIiwibG9jYXRpb24iLCJocmVmIiwiaGFuZGxlQ291bnRlciIsImNoZWNrVXJsIiwiY291bnRlckVsZW1lbnRzIiwibWF4TnVtYmVyIiwiZWxlbWVudCIsInNldEludGVydmFsIiwiaW50ZXJ2YWwiLCJjb3VudGVyIiwidGV4dENvbnRlbnQiLCJjb3VudGVyU2VjdGlvbiIsIndpbmRvd1Njcm9sbCIsImNyZWF0ZUVsZW1lbnQiLCJzcGFuIiwi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QVcsR0FDSixJQUFBRCxFQUFBQyxFQUFBUixhQUFBLFVBQUEsRUFDRFcsRUFBQSxFQUdHRSxHQURFQSxFQUFBQSxZQUFpQjNELElBQ0h1RCxZQUFBLFdBQ2R6RCxJQUlJQSxFQUpKQSxHQUFnQnVELEVBQ2JsQyxFQUFBQSxZQUFpQnNDLENBQVUsSUFFNUJFLGNBQWNILENBQUlJLEdBQ2hCOUQsRUFBYUUsU0FBRTZELGNBQUEsTUFBQSxHQUNqQlgsVUFBZTFDLElBQUEsY0FBQSxFQUNmVixFQUFBQSxZQUFxQmdFLENBQUEsRUFDdkJSLEVBQUEzQyxVQUFBSCxJQUFBLGNBQUEsRUFDRnNELEVBQUFKLFlBQUEsSUFFSixFQUFBLENBQUEsRUFoQkksQ0FBQyxDQUVMLEdBRU1DLGVBQWlCM0QsU0FBU0MsY0FBYyxVQUFVLEVBQUU4RCxVQUN0REosaUJBQ0U3RCxjQUFnQixDQUFBLEVBQ3BCb0IsT0FBT0MsaUJBQWlCLFNBQVUsU0FBQU8sR0FDaEMsSUFBTWtDLEVBQWUxQyxPQUFPOEMsU0FBVzlDLE9BQU8rQyxZQUMxQ04sZ0JBQWtCQyxFQUFlLEtBQy9COUQsZ0JBQ0ZvRCxjQUFhLEVBQ2JwRCxjQUFnQixDQUFBLEVBR3RCLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZpZ2F0aW9uX19tZW51XCIpO1xyXG5jb25zdCBoYW1idXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhhbWJ1cmdlclwiKTtcclxuY29uc3Qgc3VibWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2aWdhdGlvbl9fc3VibWVudVwiKTtcclxuY29uc3QgbWVudUl0ZW1BcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2aWdhdGlvbl9fbmF2LWFycm93LWJveFwiKTtcclxuY29uc3Qgc3VibWVudUNoZXZyb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdmlnYXRpb25fX25hdi1jaGV2cm9uXCIpO1xyXG5jb25zdCBtZW51QmFja0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2aWdhdGlvbl9fc3VibWVudWJhY2tcIik7XHJcbmNvbnN0IG1lbnVCYWNrQXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdmlnYXRpb25fX3N1Ym1lbnViYWNrLWFycm93XCIpO1xyXG5jb25zdCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vdmVybGF5XCIpO1xyXG5cclxuY29uc3QgYWRkT3ZlcmxheSA9IHBhcmFtcyA9PiB7XHJcbiAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwib3ZlcmxheS0tYWN0aXZlXCIpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlT3ZlcmxheSA9IHBhcmFtcyA9PiB7XHJcbiAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwib3ZlcmxheS0tYWN0aXZlXCIpO1xyXG59O1xyXG5cclxuY29uc3QgYWRkUm90YXRlQ2hldnJvbiA9IHBhcmFtcyA9PiB7XHJcbiAgc3VibWVudUNoZXZyb24uY2xhc3NMaXN0LmFkZChcIm5hdmlnYXRpb25fX25hdi1jaGV2cm9uLS1hY3RpdmVcIik7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVSb3RhdGVDaGV2cm9uID0gcGFyYW1zID0+IHtcclxuICBzdWJtZW51Q2hldnJvbi5jbGFzc0xpc3QucmVtb3ZlKFwibmF2aWdhdGlvbl9fbmF2LWNoZXZyb24tLWFjdGl2ZVwiKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZU5hdiA9IHBhcmFtcyA9PiB7XHJcbiAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwibmF2aWdhdGlvbl9fbWVudS0tYWN0aXZlXCIpO1xyXG4gIGhhbWJ1cmdlckJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiaGFtYnVyZ2VyLS1hY3RpdmVcIik7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVTdWJtZW51ID0gcGFyYW1zID0+IHtcclxuICBzdWJtZW51LmNsYXNzTGlzdC5hZGQoXCJuYXZpZ2F0aW9uX19zdWJtZW51LS1hY3RpdmVcIik7XHJcbiAgbWVudUJhY2tCb3guY2xhc3NMaXN0LmFkZChcIm5hdmlnYXRpb25fX3N1Ym1lbnViYWNrLS1hY3RpdmVcIik7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVTdWJlbW51QmFjayA9IHBhcmFtcyA9PiB7XHJcbiAgc3VibWVudS5jbGFzc0xpc3QucmVtb3ZlKFwibmF2aWdhdGlvbl9fc3VibWVudS0tYWN0aXZlXCIpO1xyXG4gIG1lbnVCYWNrQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJuYXZpZ2F0aW9uX19zdWJtZW51YmFjay0tYWN0aXZlXCIpO1xyXG59O1xyXG5cclxuaGFtYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgaGFuZGxlTmF2KCk7XHJcbiAgaGFuZGxlU3ViZW1udUJhY2soKTtcclxufSk7XHJcblxyXG5tZW51SXRlbUFycm93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgaGFuZGxlU3VibWVudSgpO1xyXG59KTtcclxuXHJcbm1lbnVCYWNrQXJyb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBoYW5kbGVTdWJlbW51QmFjaygpO1xyXG59KTtcclxuXHJcbmlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDk5Mikge1xyXG4gIGNvbnN0IHN1Ym1lbnVJbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2aWdhdGlvbl9fc3VibWVudS1pbm5lclwiKTtcclxuICBjb25zdCBzdWJtZW51RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgXCIubmF2aWdhdGlvbl9fc3VibWVudS1pdGVtXCJcclxuICApO1xyXG4gIGxldCBtZW51VGltZXIgPSAhMTtcclxuXHJcbiAgbWVudUl0ZW1BcnJvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsICgpID0+IHtcclxuICAgIGlmIChtZW51VGltZXIpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KG1lbnVUaW1lcik7XHJcbiAgICB9XHJcbiAgICBzdWJtZW51LmNsYXNzTGlzdC5hZGQoXCJuYXZpZ2F0aW9uX19zdWJtZW51LS1ob3ZlclwiKTtcclxuICAgIGFkZE92ZXJsYXkoKTtcclxuICAgIGFkZFJvdGF0ZUNoZXZyb24oKTtcclxuICB9KTtcclxuXHJcbiAgbWVudUl0ZW1BcnJvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xyXG4gICAgbWVudVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHN1Ym1lbnUuY2xhc3NMaXN0LnJlbW92ZShcIm5hdmlnYXRpb25fX3N1Ym1lbnUtLWhvdmVyXCIpO1xyXG4gICAgICByZW1vdmVPdmVybGF5KCk7XHJcbiAgICAgIHJlbW92ZVJvdGF0ZUNoZXZyb24oKTtcclxuICAgIH0sIDQwMCk7XHJcbiAgfSk7XHJcblxyXG4gIHN1Ym1lbnVJbm5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgZSA9PiB7XHJcbiAgICBpZiAobWVudVRpbWVyKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dChtZW51VGltZXIpO1xyXG4gICAgfVxyXG4gICAgc3VibWVudS5jbGFzc0xpc3QuYWRkKFwibmF2aWdhdGlvbl9fc3VibWVudS0taG92ZXJcIik7XHJcbiAgICBhZGRPdmVybGF5KCk7XHJcbiAgICBhZGRSb3RhdGVDaGV2cm9uKCk7XHJcbiAgfSk7XHJcblxyXG4gIHN1Ym1lbnVJbm5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgZSA9PiB7XHJcbiAgICBtZW51VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgc3VibWVudS5jbGFzc0xpc3QucmVtb3ZlKFwibmF2aWdhdGlvbl9fc3VibWVudS0taG92ZXJcIik7XHJcbiAgICAgIHJlbW92ZU92ZXJsYXkoKTtcclxuICAgICAgcmVtb3ZlUm90YXRlQ2hldnJvbigpO1xyXG4gICAgfSwgNDAwKTtcclxuICB9KTtcclxuXHJcbiAgLy8gc3ViZW1udU5hdi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgZSA9PiB7XHJcbiAgLy8gICBpZiAobWVudVRpbWVyKSB7XHJcbiAgLy8gICAgIGNsZWFyVGltZW91dChtZW51VGltZXIpO1xyXG4gIC8vICAgfVxyXG4gIC8vICAgc3VibWVudS5jbGFzc0xpc3QuYWRkKFwibmF2aWdhdGlvbl9fc3VibWVudS0taG92ZXJcIik7XHJcbiAgLy8gICBhZGRPdmVybGF5KCk7XHJcbiAgLy8gfSk7XHJcblxyXG4gIC8vIHN1YmVtbnVOYXYuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIGUgPT4ge1xyXG4gIC8vICAgbWVudVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgLy8gICAgIHN1Ym1lbnUuY2xhc3NMaXN0LnJlbW92ZShcIm5hdmlnYXRpb25fX3N1Ym1lbnUtLWhvdmVyXCIpO1xyXG4gIC8vICAgICByZW1vdmVPdmVybGF5KCk7XHJcbiAgLy8gICB9LCA0MDApO1xyXG4gIC8vIH0pO1xyXG5cclxuICBzdWJtZW51RWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsICgpID0+IHtcclxuICAgICAgaWYgKG1lbnVUaW1lcikge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChtZW51VGltZXIpO1xyXG4gICAgICB9XHJcbiAgICAgIHN1Ym1lbnUuY2xhc3NMaXN0LmFkZChcIm5hdmlnYXRpb25fX3N1Ym1lbnUtLWhvdmVyXCIpO1xyXG4gICAgICBhZGRPdmVybGF5KCk7XHJcbiAgICAgIGFkZFJvdGF0ZUNoZXZyb24oKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vL2ZhcVxyXG5jb25zdCBmYXFDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhcV9fY29udGFpbmVyXCIpO1xyXG5pZiAoZmFxQ29udGFpbmVyKSB7XHJcbiAgZmFxQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGNvbnN0IGJveCA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIuZmFxX19ib3hcIik7XHJcbiAgICBjb25zdCBib3hRdWVzdGlvbiA9IGJveC5xdWVyeVNlbGVjdG9yKFwiLmZhcV9fYm94LXF1ZXN0aW9uXCIpO1xyXG4gICAgY29uc3QgYm94QW5zd2VyID0gYm94LnF1ZXJ5U2VsZWN0b3IoXCIuZmFxX19ib3gtYW5zd2VyXCIpO1xyXG5cclxuICAgIGJveC5jbGFzc0xpc3QudG9nZ2xlKFwiZmFxX19ib3gtLWFjdGl2ZVwiKTtcclxuICAgIGJveFF1ZXN0aW9uLmNsYXNzTGlzdC50b2dnbGUoXCJmYXFfX2JveC1xdWVzdGlvbi0tYWN0aXZlXCIpO1xyXG4gICAgYm94QW5zd2VyLmNsYXNzTGlzdC50b2dnbGUoXCJmYXFfX2JveC1hbnN3ZXItLWFjdGl2ZVwiKTtcclxuICB9KTtcclxufVxyXG5cclxuLy9zY3JvbGxcclxuY29uc3Qgc2Nyb2xsQXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXNjcm9sbFwiKTtcclxuXHJcbmNvbnN0IHNjcm9sbFVwID0gcGFyYW1zID0+IHtcclxuICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAsIGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xyXG59O1xyXG5cclxuc2Nyb2xsQXJyb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNjcm9sbFVwKTtcclxuXHJcbmNvbnN0IGNoZWNrVXJsID0gZWxlbWVudCA9PiB7XHJcbiAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24pO1xyXG4gIGNvbnN0IGxhc3RTbGFzaEluZGV4ID0gdXJsLmhyZWYubGFzdEluZGV4T2YoXCIvXCIpO1xyXG4gIGNvbnN0IG5ld1VybCA9IHVybC5ocmVmLnN1YnN0cmluZygwLCBsYXN0U2xhc2hJbmRleCk7XHJcbiAgcmV0dXJuIG5ld1VybDtcclxufTtcclxuLy8gU2VvIGxpbmtzXHJcbmNvbnN0IHNlb0xpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zZW8tbGlua1wiKTtcclxuaWYgKHNlb0xpbmtzKSB7XHJcbiAgY29uc3QgY3VycmVudFVybCA9IGNoZWNrVXJsKCk7XHJcbiAgc2VvTGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuICAgIGNvbnN0IGxpbmtVcmwgPSBsaW5rLmdldEF0dHJpYnV0ZShcImRhdGEtdXJsXCIpO1xyXG4gICAgaWYgKGxpbmtVcmwpIHtcclxuICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBjdXJyZW50VXJsICsgbGlua1VybDtcclxuICAgICAgfSk7XHJcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBlID0+IHtcclxuICAgICAgICBpZiAoZS53aGljaCA9PT0gMikge1xyXG4gICAgICAgICAgd2luZG93Lm9wZW4oY3VycmVudFVybCArIGxpbmtVcmwsIFwiX2JsYW5rXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vY291bnRlclxyXG5jb25zdCBoYW5kbGVDb3VudGVyID0gcGFyYW1zID0+IHtcclxuICBjb25zdCBjb3VudGVyRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmpzLWNvdW50ZXJcIik7XHJcbiAgaWYgKGNvdW50ZXJFbGVtZW50cykge1xyXG4gICAgY291bnRlckVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIGNvbnN0IG1heE51bWJlciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tYXhcIik7XHJcbiAgICAgIGxldCBjb3VudGVyID0gMDtcclxuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IFwiMFwiO1xyXG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICBpZiAoY291bnRlciA8PSBtYXhOdW1iZXIpIHtcclxuICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBjb3VudGVyKys7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKFwiY291bnRlci1wbHVzXCIpO1xyXG4gICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChzcGFuKTtcclxuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNvdW50ZXItcGx1c1wiKTtcclxuICAgICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBcIitcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY291bnRlclNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvdW50ZXJcIikub2Zmc2V0VG9wO1xyXG5pZiAoY291bnRlclNlY3Rpb24pIHtcclxuICBsZXQgY2FuUnVuQ291bnRlciA9IHRydWU7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZSA9PiB7XHJcbiAgICBjb25zdCB3aW5kb3dTY3JvbGwgPSB3aW5kb3cuc2Nyb2xsWSB8fCB3aW5kb3cucGFnZVlPZmZzZXQ7XHJcbiAgICBpZiAoY291bnRlclNlY3Rpb24gPD0gd2luZG93U2Nyb2xsICsgNTAwKSB7XHJcbiAgICAgIGlmIChjYW5SdW5Db3VudGVyKSB7XHJcbiAgICAgICAgaGFuZGxlQ291bnRlcigpO1xyXG4gICAgICAgIGNhblJ1bkNvdW50ZXIgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbiJdfQ==
